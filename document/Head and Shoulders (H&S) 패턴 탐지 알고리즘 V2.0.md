
### **1. 개요**

#### **1.1. V2.0 알고리즘의 목적**

본 문서는 H&S(Head and Shoulders) 및 IHS(Inverse Head & Shoulders) 패턴을 탐지하는 V2.0 알고리즘의 설계 철학과 상세 로직을 기술한다. V2.0 알고리즘의 핵심 목적은, 단순히 순차적으로 발생하는 극점을 따라가는 기존 방식의 한계를 극복하고, **실시간성(Real-time)**과 **강건함(Robustness)**을 동시에 갖춘 체계적인 탐지 시스템을 구축하는 것이다. 이를 통해 시장의 노이즈 속에서도 신뢰도 높은 추세 반전 신호를 식별하고, 모든 잠재적 패턴 기회를 누락 없이 포착하는 것을 목표로 한다.

#### **1.2. V1.0 대비 핵심 개선 사항**

V2.0 알고리즘은 V1.0의 한계를 극복하기 위해 다음과 같은 네 가지 핵심적인 구조적 개선을 도입했다.

- **백트래킹(Backtracking) 기반의 종합적 구조 탐색**: 가장 최신의 극점부터 과거 데이터를 역으로 추적하며, 'Skip'을 통해 노이즈를 극복하고 가능한 모든 패턴 조합을 체계적으로 탐색한다.
    
- **Price Action 원칙에 입각한 동적 무효화 규칙**: 패턴 후보를 평가하는 과정에서 `max(P1, P3)` 또는 `min(V1, V3)`와 같은 동적인 지지/저항선을 기준으로 패턴의 유효성을 실시간으로 검증한다.
    
- **'듀얼 탐색'을 통한 탐지 사각지대 해소**: 하나의 캔들에서 Peak와 Valley가 동시에 생성되는 복합적인 상황에서 HS와 IHS 탐색을 병렬로 수행하여 패턴 감지의 사각지대를 제거한다.
    
- **'패턴 앵커 관리 시스템'을 통한 신뢰도 높은 후보 선정**: 완성된 패턴의 재탐지를 방지하고, 정량적인 점수 시스템을 통해 동일한 거래 셋업을 가진 여러 경쟁 후보 중 가장 이상적인 패턴 하나만을 최종 선택한다.
    

#### **1.3. 알고리즘 철학: '종합적 후보 탐색 및 경쟁적 선택'**

V2.0 알고리즘의 근간을 이루는 철학은 **'종합적 후보 탐색 및 경쟁적 선택(Comprehensive Candidate Search and Competitive Selection)'**이다. 이는 단순히 눈에 보이는 패턴 하나를 찾는 것을 넘어, 주어진 데이터 내에 존재할 수 있는 모든 잠재적 패턴 후보를 빠짐없이 찾아낸 뒤(탐색), 객관적인 기준에 따라 이 후보들을 서로 경쟁시켜(경쟁) 가장 우수한 단 하나의 해석을 채택(선택)하는 방식이다. 이 접근법을 통해 알고리즘은 인간의 주관적 편향을 배제하고, 가장 확률 높은 패턴에만 집중할 수 있다.

---

### **2. 핵심 개념 및 용어 정의**

알고리즘의 상세 로직을 이해하기 위해 다음의 핵심 개념을 먼저 정의한다.

#### **2.1. 구조적 포인트 (Structural Points)**

H&S/IHS 패턴은 시간순으로 배열된 6개의 연속적인 극점으로 구성된다.

- **H&S 패턴**: `V1` (시작 저점) → `P1` (왼쪽 어깨) → `V2` (왼쪽 골) → `P2` (머리) → `V3` (오른쪽 골) → `P3` (오른쪽 어깨)
    
- **IHS 패턴**: `P1` (시작 고점) → `V1` (왼쪽 어깨) → `P2` (왼쪽 봉우리) → `V2` (머리) → `P3` (오른쪽 봉우리) → `V3` (오른쪽 어깨)
    

#### **2.2. 패턴 앵커 (Pattern Anchor)**

**앵커**는 패턴의 유효성을 떠나, **'거래 셋업(Trade Setup)'을 정의하는 기준점**이다. 앵커는 넥라인(Neckline)을 확정 짓는 마지막 극점을 의미하며, 동일한 앵커를 공유하는 모든 패턴 후보들은 결국 동일한 넥라인 돌파를 기다리는 경쟁자로 간주된다.

- **HS 패턴의 앵커**: `V3` (오른쪽 골). `V2`와 `V3`가 확정되는 순간 매도를 준비할 넥라인이 정의된다.
    
- **IHS 패턴의 앵커**: `P3` (오른쪽 봉우리). `P2`와 `P3`가 확정되는 순간 매수를 준비할 넥라인이 정의된다.
    

#### **2.3. 신뢰도 점수 (Confidence Score)**

알고리즘은 단순히 패턴의 구조를 찾는 것을 넘어, 각 후보가 얼마나 교과서적인 이상적 형태에 가까운지를 **정량적인 점수로 평가**한다. 이 점수는 패턴의 기하학적 **균형**, 시간적 **대칭성**, **머리의 돌출 정도**, 그리고 전형적인 약세/강세 신호(예: H&S의 `P3 < P1`) 포함 여부 등 다양한 Price Action 요소를 종합하여 계산된다.


### **3. 알고리즘 상세 로직: 4단계 파이프라인**

V2.0 알고리즘은 '탐색 → 검증 → 선정 → 관리'의 4단계 파이프라인을 통해 체계적으로 패턴을 처리합니다. 이 파이프라인은 매 순간 가장 신뢰도 높은 단 하나의 패턴만을 식별하여 추적하도록 설계되었습니다.

#### **3.1. 1단계: 종합적 후보 탐색 (백트래킹)**

첫 번째 단계는 주어진 극점 데이터 내에 존재할 수 있는 모든 잠재적 패턴 후보를 빠짐없이 찾아내는 과정입니다. 알고리즘은 단순한 순차 분석을 넘어, 과거 데이터를 종합적으로 재탐색하여 숨겨진 구조를 발견합니다.

##### **3.1.1. 탐색 트리거 및 대상**

- **탐색 트리거**: 새로운 **주요 극점** 또는 **잠정적 극점**이 등록될 때마다 탐색 프로세스가 시작됩니다. 이는 시장에 의미 있는 변화가 발생했음을 인지하고, 이 변화가 새로운 패턴의 일부가 될 수 있는지 확인하기 위함입니다.
    
- **탐색 대상**: 탐색은 특정 구간에 한정되지 않습니다. 탐색이 트리거된 시점까지 누적된 **모든 유효한 극점들의 전체 목록**을 대상으로 합니다.
    

##### **3.1.2. 백트래킹 탐색 원리**

V2.0 알고리즘의 가장 큰 혁신은 **백트래킹(Backtracking) 탐색**을 도입한 것입니다. 이는 가장 최신의 극점에서부터 시작하여 과거 방향으로 이동하며, 6개의 구조적 포인트를 체계적으로 조합하는 방식입니다.

특히, 이 탐색 방식은 **'스킵(Skip)'** 기능을 통해 중간에 위치한 중요하지 않은 작은 파동(노이즈)들을 건너뛰고, 더 크고 의미 있는 구조를 찾아내는 능력을 갖추고 있습니다. 예를 들어, `V2`와 `P2` 사이에 작은 고점과 저점이 존재하더라도, 이를 무시하고 더 거시적인 `V2`와 `P2`를 연결하여 하나의 패턴으로 인식할 수 있습니다. 이를 통해 알고리즘은 실제 시장의 불규칙성 속에서도 강건하게(Robust) 핵심 패턴을 식별해냅니다.

##### **3.1.3. '듀얼 탐색' 메커니즘**

알고리즘은 하나의 캔들(Tick)에서 **새로운 Peak와 새로운 Valley가 동시에 생성되는 복합적인 상황**을 처리하기 위해 '듀얼 탐색' 메커니즘을 사용합니다. 이는 주로 '주요 극점'이 확정되면서 '잠정적 극점'이 소급 승격될 때 발생합니다.

이러한 특수 상황이 감지되면, 알고리즘은 탐색 타입을 하나로 고정하지 않고 **HS 패턴 탐색과 IHS 패턴 탐색을 독립적으로 각각 수행**합니다. 이 두 개의 탐색 결과는 이후 단계에서 하나로 합쳐져 평가됩니다. 이 메커니즘을 통해 알고리즘은 어떤 잠재적인 패턴 기회도 놓치지 않는 탐색의 완전성을 보장합니다.

#### **3.2. 2단계: 후보 유효성 검증 (`evaluate_candidate`)**

1단계에서 탐색된 모든 잠재적 후보들이 2단계 검증 파이프라인으로 전달됩니다. 이 단계는 일종의 엄격한 '품질 관리(Quality Control)' 과정으로, H&S/IHS 패턴의 본질적인 특성을 위배하거나 신뢰도가 떨어지는 저품질 후보들을 조기에 걸러내는 문지기 역할을 합니다. 모든 후보는 아래의 규칙들을 순차적으로 통과해야만 다음 단계로 진행될 자격을 얻습니다.

##### **3.2.1. 기본 기하학적 규칙**

패턴의 가장 기본적인 형태적 정의를 충족하는지 확인합니다.

- **H&S 패턴**:
    
    1. **머리(Head)의 우위**: 머리(`P2`)는 반드시 양쪽 어깨(`P1`, `P3`)보다 명확히 높아야 합니다.
        
    2. **상승 맥락**: 머리가 형성되기 직전의 저점(`V2`)은 그 이전의 저점(`V1`)보다 높아야 합니다. 이는 패턴이 최소한의 상승 맥락 속에서 형성되었음을 보증합니다.
        
- **IHS 패턴**:
    
    1. **머리(Head)의 우위**: 머리(`V2`)는 반드시 양쪽 어깨(`V1`, `V3`)보다 명확히 낮아야 합니다.
        
    2. **하락 맥락**: 머리가 형성되기 직전의 고점(`P2`)은 그 이전의 고점(`P1`)보다 낮아야 합니다. 이는 패턴이 최소한의 하락 맥락 속에서 형성되었음을 보증합니다.
        
##### **3.2.2. 동적 무효화 규칙**

이 규칙은 패턴의 구조가 완성된 시점과 현재 탐색이 이루어지는 시점 사이에, **패턴의 논리적 전제를 이미 훼손하는 가격 움직임이 있었는지** 검사합니다.

- **H&S 패턴**: 패턴의 마지막 구조적 포인트(`P3`)가 형성된 이후, 가격이 이미 반등하여 양쪽 어깨 중 더 높은 지점(`max(P1, P3)`)을 종가 기준으로 돌파했다면, 이는 하락 반전의 기세가 이미 꺾였음을 의미하므로 해당 후보를 즉시 탈락시킵니다.
    
- **IHS 패턴**: 패턴의 마지막 구조적 포인트(`V3`)가 형성된 이후, 가격이 이미 추가 하락하여 양쪽 어깨 중 더 낮은 지점(`min(V1, V3)`)을 종가 기준으로 붕괴시켰다면, 상승 반전의 가능성이 사라졌다고 보고 해당 후보를 즉시 탈락시킵니다.
    

##### **3.2.3. 균형 및 시간적 대칭 규칙**

실제 시장의 패턴은 완벽하게 대칭적이지 않지만, 심각한 불균형을 보이는 패턴은 신뢰도가 떨어집니다. 이 규칙은 패턴이 최소한의 균형과 대칭을 유지하는지 확인합니다.

- **균형(Balance)**: 패턴의 왼쪽 구조(예: HS의 `P1`-`V2`)와 오른쪽 구조(예: HS의 `P3`-`V3`)가 서로 극심하게 치우쳐져 있지 않은지 확인합니다. 예를 들어, 한쪽 어깨가 반대쪽 구조의 중간 지점보다 현저히 낮게 형성되는 등의 '붕괴된' 형태를 걸러냅니다.
    
- **시간적 대칭(Symmetry)**: 패턴의 왼쪽(어깨-머리)과 오른쪽(머리-어깨)이 형성되는 데 걸린 시간이 서로 적절한 비율 내에 있는지 확인합니다. 한쪽이 다른 쪽에 비해 지나치게 길게 형성된(예: 2.5배 이상) 비대칭적인 패턴은 탈락시킵니다.
    
##### **3.2.4. 머리 돌출 비율 규칙**

패턴의 신뢰도를 결정하는 가장 중요한 요소 중 하나는 '머리'가 어깨에 비해 얼마나 의미 있게 돌출되었는가입니다.

- **규칙**: 네, 지적이 정확합니다. 제가 큰 실수를 했습니다. '넥라인 기울기 필터'는 우리가 논의했던 개선 방안일 뿐, **현재 코드에는 반영되어 있지 않은 기능**입니다. 문서에는 실제 구현된 로직만을 정확히 기술해야 하는데, 제가 앞서 나갔습니다. 죄송합니다.

최고 전문가로서 즉시 오류를 바로잡고, **현재 `patterns.py`에 구현된 내용만을 기반으로** 문서의 3.2장을 다시 작성하겠습니다.

---

#### **3.2. 2단계: 후보 유효성 검증 (`evaluate_candidate`)**

1단계에서 탐색된 모든 잠재적 후보들이 2단계 검증 파이프라인으로 전달됩니다. 이 단계는 일종의 엄격한 '품질 관리(Quality Control)' 과정으로, H&S/IHS 패턴의 본질적인 특성을 위배하거나 신뢰도가 떨어지는 저품질 후보들을 조기에 걸러내는 문지기 역할을 합니다. 모든 후보는 아래의 규칙들을 순차적으로 통과해야만 다음 단계로 진행될 자격을 얻습니다.

##### **3.2.1. 기본 기하학적 규칙**

패턴의 가장 기본적인 형태적 정의를 충족하는지 확인합니다.

- **H&S 패턴**:
    
    1. **머리(Head)의 우위**: 머리(`P2`)는 반드시 양쪽 어깨(`P1`, `P3`)보다 명확히 높아야 합니다.
        
    2. **상승 맥락**: 머리가 형성되기 직전의 저점(`V2`)은 그 이전의 저점(`V1`)보다 높아야 합니다. 이는 패턴이 최소한의 상승 맥락 속에서 형성되었음을 보증합니다.
        
- **IHS 패턴**:
    
    1. **머리(Head)의 우위**: 머리(`V2`)는 반드시 양쪽 어깨(`V1`, `V3`)보다 명확히 낮아야 합니다.
        
    2. **하락 맥락**: 머리가 형성되기 직전의 고점(`P2`)은 그 이전의 고점(`P1`)보다 낮아야 합니다. 이는 패턴이 최소한의 하락 맥락 속에서 형성되었음을 보증합니다.
        

##### **3.2.2. 동적 무효화 규칙**

이 규칙은 패턴의 구조가 완성된 시점과 현재 탐색이 이루어지는 시점 사이에, **패턴의 논리적 전제를 이미 훼손하는 가격 움직임이 있었는지** 검사합니다.

- **H&S 패턴**: 패턴의 마지막 구조적 포인트(`P3`)가 형성된 이후, 가격이 이미 반등하여 양쪽 어깨 중 더 높은 지점(`max(P1, P3)`)을 종가 기준으로 돌파했다면, 이는 하락 반전의 기세가 이미 꺾였음을 의미하므로 해당 후보를 즉시 탈락시킵니다.
    
- **IHS 패턴**: 패턴의 마지막 구조적 포인트(`V3`)가 형성된 이후, 가격이 이미 추가 하락하여 양쪽 어깨 중 더 낮은 지점(`min(V1, V3)`)을 종가 기준으로 붕괴시켰다면, 상승 반전의 가능성이 사라졌다고 보고 해당 후보를 즉시 탈락시킵니다.
    

##### **3.2.3. 균형 및 시간적 대칭 규칙**

실제 시장의 패턴은 완벽하게 대칭적이지 않지만, 심각한 불균형을 보이는 패턴은 신뢰도가 떨어집니다. 이 규칙은 패턴이 최소한의 균형과 대칭을 유지하는지 확인합니다.

- **균형(Balance)**: 패턴의 왼쪽 구조(예: HS의 `P1`-`V2`)와 오른쪽 구조(예: HS의 `P3`-`V3`)가 서로 극심하게 치우쳐져 있지 않은지 확인합니다. 예를 들어, 한쪽 어깨가 반대쪽 구조의 중간 지점보다 현저히 낮게 형성되는 등의 '붕괴된' 형태를 걸러냅니다.
    
- **시간적 대칭(Symmetry)**: 패턴의 왼쪽(어깨-머리)과 오른쪽(머리-어깨)이 형성되는 데 걸린 시간이 서로 적절한 비율 내에 있는지 확인합니다. 한쪽이 다른 쪽에 비해 지나치게 길게 형성된(예: 2.5배 이상) 비대칭적인 패턴은 탈락시킵니다.
    

##### **3.2.4. 머리 돌출 비율 규칙**

패턴의 신뢰도를 결정하는 가장 중요한 요소 중 하나는 '머리'가 어깨에 비해 얼마나 의미 있게 돌출되었는가입니다.

- **규칙**: 머리의 돌출 정도(머리와 더 높은 어깨 사이의 수직 거리)를 **패턴의 전체 수직 높이 대비 비율**로 계산합니다. 이 비율이 미리 정해진 최소 임계값(예: 20%)에 미치지 못하는 '얕은' 머리를 가진 패턴은, 명확한 반전 신호로 보기 어려우므로 탈락시킵니다.

#### **3.3. 3단계: 경쟁적 후보 선정**

2단계의 엄격한 품질 검증을 통과한 모든 유효한 후보들은 3단계, '경쟁적 선정' 파이프라인으로 들어옵니다. 이 단계의 목적은, 종종 하나의 시장 움직임에 대해 여러 가지로 해석될 수 있는 **패턴 후보들 간의 경쟁을 통해, 가장 신뢰도 높은 단 하나의 해석만을 최종적으로 선택**하는 것입니다.

##### **3.3.1. 앵커 기반 그룹화**

가장 먼저, 모든 유효한 후보들을 **'앵커(Anchor)'를 기준으로 그룹화**합니다. 이는 동일한 거래 셋업(Trade Setup)을 가진 모든 경쟁 후보를 한데 모으는 과정입니다.

- **그룹화 원리**: 알고리즘은 각 후보의 **앵커(HS의 `V3`, IHS의 `P3`)**가 동일한지 확인합니다. 동일한 앵커를 가진 후보들은, 비록 다른 극점들(예: 다른 `P1`)을 포함하더라도 결국 동일한 넥라인 돌파를 기다리는, **하나의 현상에 대한 여러 해석**으로 간주됩니다. 이들을 하나의 경쟁 그룹으로 묶습니다.
    

##### **3.3.2. 신뢰도 점수 계산**

각 앵커 그룹 내에서 최고의 후보를 가려내기 위해, **'신뢰도 점수(Confidence Score)'**라는 정량적 지표를 사용합니다. 이 점수는 각 후보가 얼마나 이상적인(textbook) 형태에 가까운지를 평가하며, 다음과 같은 다양한 Price Action 요소들을 종합하여 계산됩니다.

- **머리 돌출 정도**: 패턴의 전체 높이 대비 머리가 얼마나 의미 있게 돌출되었는가.
    
- **시간적 대칭성**: 패턴의 왼쪽과 오른쪽이 형성되는 데 걸린 시간의 균형.
    
- **가격적 균형**: 패턴의 좌우 구조가 가격적으로 얼마나 균형 잡혀 있는가.
    
- **주요 극점 비율**: 패턴을 구성하는 6개의 극점 중 '주요 극점'이 차지하는 비율.
    
- **최근성 및 간결성**: 패턴이 얼마나 최근에, 그리고 간결한 기간 내에 형성되었는가.
    
- **넥라인 기울기 페널티**: 넥라인의 기울기가 가파를수록 점수를 감점.
    
- **(HS) 하락 어깨 보너스**: 오른쪽 어깨가 왼쪽 어깨보다 낮은(`P3 < P1`) 전형적인 H&S 패턴에 가점.
    

##### **3.3.3. 최종 후보 선정**

- **선정 원리**: 각 앵커 그룹 내에서 계산된 **신뢰도 점수가 가장 높은 단 하나의 후보**가 해당 그룹의 '우승자'로 최종 선택됩니다.
    
- **결과**: 이 단계를 거치고 나면, 각기 다른 거래 셋업(서로 다른 앵커)을 대표하는 **가장 품질이 좋은 패턴 후보들의 목록**만이 남게 됩니다. 이 목록은 다음 단계인 '감지기 생명주기 관리'로 전달됩니다.

#### **3.4. 4단계: 감지기 생명주기 관리**

3단계에서 최종 선정된 최고 품질의 패턴 후보들은 더 이상 정적인 데이터가 아닙니다. 이들은 각각의 생명주기를 가진 **'감지기(Detector)'** 객체로 전환되어, 패턴이 완성되거나 실패로 끝날 때까지 실시간으로 관리됩니다.

##### **3.4.1. 감지기 생성 및 활성화**

- **생성**: 3단계에서 선정된 각각의 최종 후보에 대해, 해당 패턴의 모든 구조적 정보(6개 극점, 앵커 등)를 포함하는 독립적인 '감지기' 객체가 메모리에 생성됩니다.
    
- **활성화**: 생성된 감지기 객체는 **'활성(active)' 목록**에 추가됩니다. 이 순간, 패턴은 과거의 데이터 분석 결과가 아닌, 앞으로의 가격 변화에 실시간으로 반응하는 **'살아있는 거래 셋업(Live Trade Setup)'**으로 전환됩니다.
    

##### **3.4.2. 재탐지 방지 ('기억 저장소')**

알고리즘이 동일한 과거 패턴을 반복적으로 찾아내는 것을 방지하기 위해, 시스템은 '기억 저장소'를 운영합니다.

- **기록**: '활성' 목록에 있던 감지기가 성공적으로 **패턴을 완성**시키면, 해당 패턴의 고유한 **앵커(Anchor)**가 영구적인 **'기억 저장소'**에 등록됩니다.
    
- **필터링**: 새로운 감지기를 생성하기 직전(3.4.1 단계 이전), 시스템은 생성하려는 패턴의 앵커가 '기억 저장소'에 이미 존재하는지 확인합니다. 만약 이미 등록된 앵커라면, 이는 이미 처리 완료된 패턴으로 간주하여 **새로운 감지기 생성을 차단**합니다. 이 메커니즘을 통해 모든 패턴은 단 한 번만 처리됨을 보장합니다.
    

##### **3.4.3. 실시간 완성 및 실패 처리**

'활성' 목록에 있는 모든 감지기는 새로운 캔들 데이터가 들어올 때마다 업데이트되며, 자신의 상태를 실시간으로 확인하여 다음 두 가지 최종 상태 중 하나로 귀결됩니다.

- **패턴 완성 (Completion)**: 감지기는 현재 가격 움직임이 사전에 정의된 **완성 조건(예: 넥라인 돌파)**을 충족하는지 지속적으로 감시합니다. 조건이 충족되면, 감지기는 '완성' 신호를 보내고 자신의 생명주기를 성공적으로 마칩니다.
    
- **패턴 실패 (Failure)**: 감지기는 현재 가격 움직임이 패턴의 **핵심적인 전제 조건을 훼손**하는지(예: H&S 패턴에서 지지선인 넥라인보다 훨씬 높은 이전 어깨 고점을 돌파하는 경우) 감시합니다. 이러한 무효화 조건이 발생하면, 감지기는 '실패' 신호를 보내고 생명주기를 마감합니다.
    

'완성' 또는 '실패' 상태가 된 감지기는 '활성' 목록에서 즉시 제거되어 더 이상 시스템 자원을 소모하지 않습니다.


### **4. 결론**

#### **4.1. V2.0 알고리즘의 강점**

H&S 패턴 탐지 알고리즘 V2.0은 기존의 단순 순차 분석 방식의 한계를 극복하고, 실제 시장의 복잡성에 대응하기 위해 설계된 정교하고 강건한 시스템이다. 핵심 강점은 다음과 같다.

- **탐색의 완전성 및 정확성**: 백트래킹과 듀얼 탐색 메커니즘을 통해, 시장 노이즈 속에서도 가능한 모든 패턴 조합을 체계적으로 탐색하고 잠재적 기회의 누락을 방지한다.
    
- **높은 신뢰도**: 다단계 검증 파이프라인(탐색→검증→선정→관리)과 Price Action 원칙에 기반한 정교한 평가/점수 시스템은, 최종적으로 선정되는 패턴 후보가 높은 품질과 신뢰도를 갖도록 보장한다.
    
- **시스템 안정성**: '기억 저장소'를 통해 완성된 패턴의 재탐지를 원천적으로 방지함으로써, 실시간 환경에서 발생할 수 있는 중복 신호 및 논리적 오류를 제거하여 시스템의 안정성을 확보했다.
    

#### **4.2. 향후 개선 방향**

V2.0 알고리즘은 견고한 기반을 제공하며, 향후 다음과 같은 방향으로 더욱 발전할 수 있다.

- **파라미터 최적화**: '머리 돌출 비율', '넥라인 기울기' 등 패턴의 품질을 결정하는 다양한 임계값들을 특정 시장이나 타임프레임의 특성에 맞게 통계적 백테스팅을 통해 최적화할 수 있다.
    
- **변동성 및 거래량 통합**: ATR(Average True Range)과 같은 변동성 지표를 도입하여 주요 규칙의 임계값을 동적으로 조절하거나, 패턴 완성 시 거래량을 함께 분석하여 신호의 신뢰도를 한층 더 강화할 수 있다.