# 🌱 Phase 0: Genesis - 프로젝트의 탄생

## 📋 개요

이 폴더는 **ChartInsight Studio DataPipeline**의 **최초 프로토타입** 시기 (2025년 7월)의 기록을 담고 있습니다.

당시 프로젝트명은 "TradeSmartAI"였으며, 30개 종목으로 시작한 작은 실험이 현재의 엔터프라이즈급 시스템으로 성장하기까지의 첫 발자국입니다.

---

## ⚠️ 매우 중요한 안내

### 이 문서들은 현재 시스템과 완전히 다릅니다!

| 항목 | Genesis (2025-07) | 현재 v7.1 (2025-10) |
|------|-------------------|---------------------|
| **프로젝트명** | TradeSmartAI | ChartInsight Studio |
| **종목 수** | 30개 | 1,400개 (46배 증가) |
| **타임프레임** | 5개 | 5개 (동일) |
| **아키텍처** | 단순 프로토타입 | SRP 기반 v7 아키텍처 |
| **DAG 구조** | 통합형 | 역할 분리 (5개 DAG) |
| **분석 기능** | 없음 | RS 점수, 재무 분석, 기술 분석 |
| **SIMULATION 모드** | 단순 스키마 분리 | v7 스냅샷 기반 아키텍처 |
| **데이터 수집** | 수동 트리거 | 완전 자동화 |

**결론**: 이 문서들을 현재 시스템의 참고 자료로 사용하면 **큰 혼란**이 발생합니다! ⚠️

---

## 📚 보관 문서 목록

### 1. TradeSmartAI 데이터 파이프라인 초기 적재 보고서
**파일명**: `TradeSmartAI 데이터 파이프라인 초기 적재 (dag_initial_loader.py )성공에 관한 보고서.md`  
**작성일**: 2025년 7월 11일  
**성격**: 첫 번째 성공적인 데이터 수집 보고서

#### 주요 내용
- **목표**: 30개 종목 × 5개 타임프레임 = 150개 작업 성공
- **결과**: 9,450개 캔들 데이터 완벽 저장
- **핵심 문제**: 타임존 처리 (KST ↔ UTC)
- **해결**: 멱등성 보장 로직 구현

#### 기술적 성과
1. **타임존 처리 원칙 확립**
   - 저장: UTC
   - 표시: Asia/Seoul
   - 비교: UTC로 통일

2. **중복 데이터 오류 해결**
   ```python
   # 타임존 통일 후 비교
   if candle_timestamp_kst.tzinfo is None:
       candle_timestamp_kst = candle_timestamp_kst.replace(tzinfo=ZoneInfo('Asia/Seoul'))
   
   candle_timestamp_utc = candle_timestamp_kst.astimezone(ZoneInfo('UTC'))
   
   if candle_timestamp_utc not in existing_timestamps_utc:
       # 신규 데이터만 삽입
   ```

3. **Airflow UI 타임존 설정**
   - 사용자 경험 개선 (UTC → KST 표시)

#### 현재와의 차이
- **당시**: Parquet 파일 기반 시뮬레이션 데이터
- **현재**: DB 스냅샷 기반 SIMULATION v7 아키텍처

---

### 2. TradeSmartAI 개발 계획 Ver 4.0
**파일명**: `TradeSmartAI 주식 데이터 수집 파이프라인 개발 계획 수행 보고 (Ver 4.0).md`  
**작성일**: 2025년 7월 20일  
**성격**: 프로토타입 개발 계획 및 초기 성과 보고

#### 주요 내용

**1단계: 로컬 개발 및 검증 (완료)**
- Docker 기반 개발 환경 구축
- 프로토타입 개발 (단일 종목 → 30개 종목)
- 데이터베이스 스키마 분리 (live vs simulation) 아이디어 시작
- Airflow Pool을 이용한 API 호출 제어
- 동적 DAG 생성 패턴 도입

**2단계: 전체 파이프라인 확장 (진행 중)**
- 30개 타겟 종목 데이터 적재
- 증분 업데이트 DAG 안정화
- 모니터링 및 알림 강화

**3단계: GCP 시험 운영 (계획)**
- 클라우드 배포
- 24시간 안정 운영

#### 확립된 핵심 원칙
1. **컨텍스트 인지형 아키텍처**
   - 로컬 CLI와 Airflow 환경 모두 지원
   
2. **initial vs incremental 분리**
   - 초기 적재와 증분 업데이트 명확한 분리
   
3. **live/simulation 스키마 분리**
   - 현재 SIMULATION v7의 기초가 된 아이디어

#### 현재와의 차이
- **당시**: GCP 배포 계획
- **현재**: 로컬 Docker 환경에서 안정적 운영 중

---

## 🔄 Genesis → 현재까지의 진화 과정

```
2025-07-11  🌱 Genesis: 30개 종목 프로토타입 성공
    ↓
2025-07-20  📋 Ver 4.0: 아키텍처 설계 완료
    ↓
2025-10-13  🏗️ Phase 1-4: 기반 구축 (대규모 리팩토링)
    ↓
2025-10-22  📊 Phase 5: RS 점수 계산 추가
    ↓
2025-10-26  🚀 Phase 6: DART API 최적화 (73% 절감)
    ↓
2025-10-30  🏆 Phase 7: SIMULATION v7 완성
    ↓
2025-10-31  ✅ 1,400개 종목 완전 자동화 시스템 운영 중
```

---

## 🎓 학습 가치

### ✅ 이 문서를 읽어야 하는 경우

1. **프로젝트의 시작 스토리를 알고 싶을 때**
   - "30개 → 1,400개" 성장 과정
   - 초기 기술 결정의 배경

2. **타임존 처리 문제의 근본 해결 과정을 배우고 싶을 때**
   - 매우 상세한 문제 분석
   - timezone-naive 데이터 처리 방법
   - KST ↔ UTC 변환 로직

3. **멱등성 구현의 초기 버전을 보고 싶을 때**
   - 가장 기본적인 형태의 멱등성 로직
   - 중복 데이터 방지 방법

4. **Docker 환경 구축 과정을 처음부터 배우고 싶을 때**
   - Airflow + PostgreSQL Docker Compose 설정
   - 파일 권한, PYTHONPATH 등 인프라 문제 해결

5. **작은 것에서 큰 것으로 성장하는 과정을 배우고 싶을 때**
   - 프로토타입 → 엔터프라이즈급 시스템
   - 점진적 확장 전략

### ⛔ 이 문서를 읽지 말아야 하는 경우

1. **현재 시스템을 이해하려고 할 때**
   - 아키텍처가 완전히 다름
   - 종목 수, 복잡도 차이가 너무 큼
   → **`../../DataPipeline_Project_Roadmap.md`** 참조

2. **현재 코드를 수정하려고 할 때**
   - 코드 구조가 완전히 변경됨
   → **`../../Reports/`** 폴더의 최신 보고서 참조

3. **현재 DAG 구조를 이해하려고 할 때**
   - DAG 역할 분리, 이름이 완전히 다름
   → **Roadmap Phase 7** 참조

---

## 💭 회고: 30개에서 1,400개로

### Genesis의 유산

Phase 0에서 확립한 원칙들은 현재까지 이어지고 있습니다:

1. **타임존 처리 원칙**
   ```
   Genesis (2025-07): "저장은 UTC, 표시는 KST"
   현재 (2025-10): 여전히 동일한 원칙 적용
   ```

2. **멱등성 보장**
   ```
   Genesis (2025-07): 기본 중복 검사 로직
   현재 (2025-10): UPSERT 기반 고도화된 멱등성
   ```

3. **live/simulation 분리**
   ```
   Genesis (2025-07): 단순 스키마 분리 아이디어
   현재 (2025-10): v7 스냅샷 기반 완전한 분리
   ```

### 3개월의 변화

| 지표 | Genesis | 현재 | 성장률 |
|------|---------|------|--------|
| 종목 수 | 30개 | 1,400개 | **4,567%** |
| 총 캔들 데이터 | 9,450개 | 약 44만개 | **4,656%** |
| DAG 수 | 2개 | 5개 (+3개) | **150%** |
| 분석 기능 | 0개 | 3개 (RS, 재무, 기술) | **무한대** |
| 문서 페이지 | 2개 | 15개 이상 | **750%** |

### 변하지 않은 것

- ✅ Docker 기반 인프라
- ✅ Apache Airflow 오케스트레이션
- ✅ PostgreSQL 데이터베이스
- ✅ 키움 API 데이터 소스
- ✅ Python 3.x
- ✅ 자동화에 대한 집착 😄

---

## 📎 관련 문서 링크

### 현재 참조 문서
- **`../../DataPipeline_Project_Roadmap.md`** - 현재 프로젝트 전체 로드맵
- **`../../Reports/`** - Phase 5-7 최종 보고서
- **`../Phase1-4/`** - 대규모 리팩토링 기록

### 다음 단계
- **`../Phase1-4/README.md`** - Genesis 이후 첫 번째 대규모 개선

---

## 🎯 Phase 0의 의미

Phase 0 Genesis는 단순한 프로토타입이 아니었습니다.

**30개 종목**으로 시작했지만:
- 타임존 처리의 복잡성을 완벽히 이해했고
- 멱등성의 중요성을 깨달았으며
- Docker 기반 인프라의 안정성을 확보했습니다

이 모든 것이 **1,400개 종목으로 확장할 수 있는 토대**가 되었습니다.

**작게 시작하되, 크게 생각하라** (Start small, think big)

이것이 Phase 0 Genesis가 남긴 가장 큰 교훈입니다. 🌱 → 🌳

---

## 📖 읽는 순서 추천

### 순서 1: 시작부터 보기
```
1. 이 README (Genesis 개요)
   ↓
2. TradeSmartAI 개발 계획 Ver 4.0 (계획 이해)
   ↓
3. TradeSmartAI 초기 적재 보고서 (첫 성공)
   ↓
4. ../Phase1-4/README.md (다음 단계로)
```

### 순서 2: 특정 주제만
- **타임존 처리**: 초기 적재 보고서 → 2. 중복 데이터 오류 섹션
- **아키텍처 진화**: 개발 계획 Ver 4.0 → Roadmap Phase 1-7
- **멱등성 구현**: 초기 적재 보고서 → 3. 핵심 기술 원칙

---

## 🌟 마지막으로

이 문서들은 프로젝트의 **타임캡슐**입니다.

3개월 후, 1년 후, 혹은 몇 년 후...  
이 문서를 다시 펼쳤을 때:

**"우리가 여기서 시작했구나"**

그 감동을 느낄 수 있을 것입니다. 💚

---

**문서 작성일**: 2025-10-31  
**작성자**: cursor.ai Documentation Manager  
**버전**: 1.0  
**Phase**: 0 - Genesis (회고)

